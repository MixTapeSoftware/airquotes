<% if value.is_a?(Array) && value.first.is_a?(Hash) && value.first.key?("amount") && value.first.key?("description") %>
  <div class="space-y-1">
      <% value.each do |item| %>
      <%= render partial: 'line_item', locals: { amount: item["amount"], description: item["description"] } %>
      <% end %>
  </div>
  <% elsif value.is_a?(Hash) %>
    <% value.each do |k, v| %>
      <% if v.is_a?(Array) && v.first.is_a?(Hash) && v.first.key?("amount") && v.first.key?("description") %>
      <div class="mb-2">
          <div class="font-semibold text-gray-700 mb-1"><%= k.to_s.titleize %></div>
          <div class="space-y-1">
              <% v.each do |item| %>
              <%= render partial: 'line_item', locals: { amount: item["amount"], description: item["description"] } %>
              <% end %>
          </div>
      </div>
    <% end %>
  <% end %>
<% end %>